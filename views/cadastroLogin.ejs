<%- include('partials/header.ejs') %>
<link rel="stylesheet" href="/css/auth.css">
<main class="auth-main">
  <div class="auth-logo">
    <img src="/imgs/logo-nitrusleaf.png" alt="NitrusLeaf">
  </div>

  <div class="auth-back-button">
    <button onclick="window.location.href='/selecionar-cadastro'">
      <img src="/imgs/back.svg" alt="Voltar">
      Voltar
    </button>
  </div>

  <div class="container d-flex justify-content-center align-items-center auth-container">
    <div class="auth-content-large">
      <div class="auth-card">
        <div class="auth-card-header">
          <h3 class="auth-card-subtitle">CADASTRO</h3>
          <h1 class="auth-card-title">Crie sua conta de acesso</h1>
          <div class="auth-card-divider">
            <div class="auth-card-divider-line"></div>
            <h2 class="auth-card-divider-text">Defina seu login e senha</h2>
            <div class="auth-card-divider-line"></div>
          </div>
        </div>
        
        <% if (typeof messages !== 'undefined' && messages) { %>
          <% if (messages.success && messages.success.length > 0) { %>
            <div class="auth-message auth-message-success">
              <%= messages.success[0] %>
            </div>
          <% } %>
          <% if (messages.danger && messages.danger.length > 0) { %>
            <div class="auth-message auth-message-error">
              <%= messages.danger[0] %>
            </div>
          <% } %>
          <% if (messages.error && messages.error.length > 0) { %>
            <div class="auth-message auth-message-error">
              <%= messages.error[0] %>
            </div>
          <% } %>
        <% } %>
        
        <form action="/createLogin" method="POST" class="auth-form">
          <input type="hidden" name="tipo_pessoa" value="<%= tipo_pessoa %>">
          <input type="hidden" name="nome" value="<%= nome %>">
          <input type="hidden" name="sobrenome" value="<%= sobrenome %>">
          <input type="hidden" name="telefone" value="<%= telefone %>">
          <input type="hidden" name="email" value="<%= email %>">
          <input type="hidden" name="cnpj" value="<%= cnpj %>">
          <input type="hidden" name="nome_fantasia" value="<%= nome_fantasia %>">
          <input type="hidden" name="bairro" value="<%= bairro %>">
          <input type="hidden" name="numero" value="<%= numero %>">
          <input type="hidden" name="logradouro" value="<%= logradouro %>">
          <input type="hidden" name="cidade" value="<%= cidade %>">
          
          <div class="auth-form-group">
            <label for="email_acesso" class="auth-label">E-mail de acesso:</label>
            <input type="email" id="email_acesso" name="email_acesso" value="<%= email || '' %>" placeholder="Informe o e-mail de acesso" required class="auth-input auth-input-bg">
          </div>
          
          <div class="auth-form-group">
            <label for="senha" class="auth-label">Senha:</label>
            <input type="password" id="senha" name="senha" placeholder="Crie sua senha" required class="auth-input auth-input-bg">
          </div>
          
          <div class="auth-form-group">
            <label for="confirmar_senha" class="auth-label">Confirmar Senha:</label>
            <input type="password" id="confirmar_senha" name="confirmar_senha" placeholder="Confirme sua senha" required class="auth-input auth-input-bg">
          </div>
          
          <button type="submit" class="auth-button">
            Finalizar Cadastro
          </button>
        </form>
      </div>
      
      <div class="auth-links">
        <span class="auth-text">Já possui conta? </span>
        <a href="/" class="auth-link-orange">Entrar</a>
      </div>
    </div>
  </div>

  <div class="auth-bg-wave"></div>
  
  <div class="auth-bg-fruit">
    <img src="/imgs/bg-use.png" alt="Mexerica">
  </div>

  <div class="auth-copyright">
    ©2025 NitrusLeaf
  </div>
</main>

<script src="/js/auth.js"></script>
