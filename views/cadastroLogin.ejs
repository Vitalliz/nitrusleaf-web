<%- include('partials/header.ejs') %>

<main style="background-color: #FAF1E5; min-height: 100vh; position: relative;">
  <!-- Logo no canto superior esquerdo -->
  <div style="position: absolute; top: 20px; left: 20px; z-index: 10;">
    <img src="/imgs/logo-nitrusleaf.png" alt="NitrusLeaf" style="height: 60px;">
  </div>

  <!-- Botão Voltar pequeno no cantinho -->
  <div style="position: absolute; top: 20px; right: 20px; z-index: 10;">
    <button onclick="window.location.href='/selecionar-cadastro'" 
            style="padding: 8px 12px; background-color: #8BC34A; color: white; border: none; border-radius: 6px; font-size: 0.8rem; font-weight: bold; display: flex; align-items: center; gap: 5px;">
      <img src="/imgs/back.svg" alt="Voltar" style="width: 12px; height: 12px;">
      Voltar
    </button>
  </div>

  <!-- Conteúdo principal centralizado -->
  <div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh; padding-top: 50px; position: relative; z-index: 10;">
    <div style="max-width: 600px; width: 100%;">
      <!-- Container do formulário -->
      <div style="background-color: white; border: 2px solid #8BC34A; border-radius: 12px; padding: 30px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
        <!-- Cabeçalho do formulário -->
        <div style="text-align: center; margin-bottom: 30px;">
          <h3 style="color: #8B4513; font-size: 0.9rem; font-weight: bold; margin-bottom: 10px;">CADASTRO</h3>
          <h1 style="color: #333333; font-weight: bold; font-size: 2.2rem; margin-bottom: 10px;">Crie sua conta de acesso</h1>
          <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 15px;">
            <div style="width: 50px; height: 2px; background-color: #8BC34A; margin-right: 15px;"></div>
            <h2 style="color: #333333; font-weight: bold; font-size: 1.1rem; margin: 0;">Defina seu login e senha</h2>
            <div style="width: 50px; height: 2px; background-color: #8BC34A; margin-left: 15px;"></div>
          </div>
        </div>
        
        <!-- Formulário de login/senha -->
        <form action="/createLogin" method="POST" style="text-align: left;">
          <!-- Dados do primeiro formulário (hidden) -->
          <input type="hidden" name="tipo_pessoa" value="<%= tipo_pessoa %>">
          <input type="hidden" name="nome" value="<%= nome %>">
          <input type="hidden" name="sobrenome" value="<%= sobrenome %>">
          <input type="hidden" name="telefone" value="<%= telefone %>">
          <input type="hidden" name="email" value="<%= email %>">
          <input type="hidden" name="cnpj" value="<%= cnpj %>">
          <input type="hidden" name="nome_fantasia" value="<%= nome_fantasia %>">
          <input type="hidden" name="bairro" value="<%= bairro %>">
          <input type="hidden" name="numero" value="<%= numero %>">
          <input type="hidden" name="logradouro" value="<%= logradouro %>">
          <input type="hidden" name="cidade" value="<%= cidade %>">
          
          <div style="margin-bottom: 20px;">
            <label for="email_acesso" style="color: #333333; font-weight: bold; display: block; margin-bottom: 8px;">E-mail de acesso:</label>
            <input type="email" id="email_acesso" name="email_acesso" value="<%= email || '' %>" placeholder="Informe o e-mail de acesso" required
                   style="width: 100%; padding: 12px 16px; border: 2px solid #8BC34A; border-radius: 8px; background-color: #FAF1E5; font-size: 1rem; height: 48px;">
          </div>
          
          <div style="margin-bottom: 20px;">
            <label for="senha" style="color: #333333; font-weight: bold; display: block; margin-bottom: 8px;">Senha:</label>
            <input type="password" id="senha" name="senha" placeholder="Crie sua senha" required
                   style="width: 100%; padding: 12px 16px; border: 2px solid #8BC34A; border-radius: 8px; background-color: #FAF1E5; font-size: 1rem; height: 48px;">
          </div>
          
          <div style="margin-bottom: 20px;">
            <label for="confirmar_senha" style="color: #333333; font-weight: bold; display: block; margin-bottom: 8px;">Confirmar Senha:</label>
            <input type="password" id="confirmar_senha" name="confirmar_senha" placeholder="Confirme sua senha" required
                   style="width: 100%; padding: 12px 16px; border: 2px solid #8BC34A; border-radius: 8px; background-color: #FAF1E5; font-size: 1rem; height: 48px;">
          </div>
          
          <!-- Botão Finalizar Cadastro -->
          <button type="submit" style="width: 100%; padding: 12px 16px; background-color: #8BC34A; color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; height: 48px;">
            Finalizar Cadastro
          </button>
        </form>
      </div>
      
      <!-- Link para login -->
      <div style="text-align: center; margin-top: 20px;">
        <span style="color: #555555; font-size: 0.9rem;">Já possui conta? </span>
        <a href="/" style="color: #FF9800; text-decoration: underline; font-size: 0.9rem;">Entrar</a>
      </div>
    </div>
  </div>

  <!-- Vector-BG.png como fundo da onda - baixado -->
  <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 40%; background-image: url('/imgs/Vector-BG.png'); background-size: cover; background-position: top; background-repeat: no-repeat; z-index: 2;"></div>
  
  <!-- Mexerica atrás da onda - muito maior -->
  <div style="position: absolute; bottom: 2%; left: 10%; z-index: 1;">
    <img src="/imgs/bg-use.png" alt="Mexerica" style="height: 400px; opacity: 0.9;">
  </div>

  <!-- Copyright -->
  <div style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); color: #333333; font-size: 0.8rem; z-index: 3;">
    ©2024 NitrusLeaf
  </div>
</main>

<script>
// Validação de senha
document.addEventListener('DOMContentLoaded', function() {
    const senha = document.getElementById('senha');
    const confirmarSenha = document.getElementById('confirmar_senha');
    
    function validarSenhas() {
        if (senha.value !== confirmarSenha.value) {
            confirmarSenha.setCustomValidity('As senhas não coincidem');
        } else {
            confirmarSenha.setCustomValidity('');
        }
    }
    
    senha.addEventListener('change', validarSenhas);
    confirmarSenha.addEventListener('keyup', validarSenhas);
});
</script>
